<div class="dashboard-wrapper">
  <div class="gm-dashboard">
    <h1>GM Dashboard</h1>
    <section class="campaigns-section">
      <div class="header">
        <h2>My Campaigns</h2>
        @if (canCreateCampaign) {
        <a routerLink="/campaigns/new" class="btn btn-primary">Create New Campaign</a>
        }
      </div>
      @if (isLoading) {
      <div class="loading">Loading campaigns...</div>
      }
      @if (error) {
      <div class="error">{{ error }}</div>
      }
      @if (!isLoading && !error) {
      <div class="campaign-grid">
        @for (campaign of campaigns; track campaign) {
        <div class="campaign-card">
          <h3>{{ campaign.name }}</h3>
          <p>{{ campaign.description }}</p>
          <div class="actions">
            @if (canEditCampaign(campaign)) {
            <a [routerLink]="['/campaigns', campaign.id, 'edit']" class="btn btn-secondary">Edit</a>
            }
          </div>
        </div>
        }
        @if (campaigns.length === 0) {
        <div class="no-data">
          You haven't created any campaigns yet.
        </div>
        }
      </div>
      }
    </section>
  </div>

  <div class="player-dashboard">
    <app-player-dashboard></app-player-dashboard>
  </div>

  <div class="admin-dashboard">
    <app-admin-dashboard></app-admin-dashboard>
  </div>

  @if (userRoles.length === 0) {
  <div class="error">
    Unauthorized access. Please <a routerLink="/login">login</a>.
  </div>
  }
</div>